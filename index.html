<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Enhanced SGPA & CGPA Calculator â€” Modern Dark Theme</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="dark"> <!-- Dark mode default -->
  <div class="app-wrap">
    <header class="app-header">
      <div>
        <h1>ğŸ“ Enhanced SGPA & CGPA Calculator</h1>
        <div class="subtitle">Find your SGPA and CGPA</div>
      </div>
      <div class="hdr-actions">
        <button id="toggle-theme" class="btn" onclick="toggleDarkMode()">Toggle Theme</button>
      </div>
    </header>

    <!-- MAIN FORM (visible by default; dashboards hidden until calculation) -->
    <main id="main-area" class="main-area">
      <!-- SGPA Form -->
      <section class="card">
        <div class="card-head">
          <h2>ğŸ“˜ SGPA Calculator</h2>
        </div>

        <div class="controls">
          <div class="left-controls">
            <button class="btn primary" onclick="addSubject()">â• Add Subject</button>
            <button class="btn warn" onclick="removeSubject()">â– Remove Subject</button>
          </div>
          <div class="note muted">Enter credits and marks. Use External + Internal mode if needed.</div>
        </div>

        <div id="validation-summary" class="validation-summary" style="display:none;"></div>

        <div id="subjects-container" class="subjects-container"></div>

        <div class="form-actions">
          <button id="calculate-sgpa" class="btn success" onclick="handleCalculateSGPA()">Calculate SGPA & Open Dashboard</button>
          <div class="muted small"></div>
        </div>
      </section>

      <!-- CGPA Form -->
      <section class="card">
        <div class="card-head">
          <h2>ğŸ“• CGPA Calculator</h2>
        </div>

        <div class="controls">
          <label>Number of semesters:</label>
          <input id="num-semesters" type="number" min="1" placeholder="e.g., 6" />
          <button class="btn" onclick="generateCGPAInputs()">Create Semester Fields</button>
        </div>

        <div id="cgpa-inputs" class="cgpa-inputs"></div>

        <div class="form-actions">
          <button id="calculate-cgpa" class="btn primary" onclick="handleCalculateCGPA()">Calculate CGPA & Open Dashboard</button>
          <button class="btn" onclick="downloadAllEntries()">Download Entries (text)</button>
        </div>

        <div class="muted small">Enter the number of semesters,click "Create semester field" & enter SGPA and credits for each semester.</div>
      </section>

      

      <!-- SETTINGS PANEL (shows/hides instead of popup) -->
<button class="btn" onclick="toggleSettings()" style="margin-top:12px;">âš™ Settings(Set your own grade cutoff and failing marks)</button>

<div id="settings-panel" class="settings-panel">
  <h3>Grade Cutoffs & Pass Criteria</h3>

  <p class="muted">Edit grade cutoff minimums (Grade Point 10 â†’ 1). Values must be descending.</p>

  <div class="grade-grid">
    <label>10 Grade Point (Min %)</label><input id="g10" type="number" min="0" max="100" value="95">
    <label>9 Grade Point (Min %)</label><input id="g9" type="number" min="0" max="100" value="85">
    <label>8 Grade Point (Min %)</label><input id="g8" type="number" min="0" max="100" value="75">
    <label>7 Grade Point (Min %)</label><input id="g7" type="number" min="0" max="100" value="65">
    <label>6 Grade Point (Min %)</label><input id="g6" type="number" min="0" max="100" value="55">
    <label>5 Grade Point (Min %)</label><input id="g5" type="number" min="0" max="100" value="45">
    <label>4 Grade Point (Min %)</label><input id="g4" type="number" min="0" max="100" value="35">
    <label>3 Grade Point (Min %)</label><input id="g3" type="number" min="0" max="100" value="25">
    <label>2 Grade Point (Min %)</label><input id="g2" type="number" min="0" max="100" value="15">
    <label>1 Grade Point (Min %)</label><input id="g1" type="number" min="0" max="100" value="5">
  </div>

  <hr/>

  <h4>Failing & Component Minimums</h4>
  <div class="controls">
    <label>Global Fail Mark</label>
    <input id="global-fail" type="number" min="0" max="100" value="35">

    <label>Min Internal %</label>
    <input id="min-internal" type="number" min="0" max="100" value="30">

    <label>Min External %</label>
    <input id="min-external" type="number" min="0" max="100" value="30">
  </div>

  <div id="settings-error" class="validation-summary" style="display:none;margin-top:10px;"></div>

  <button class="btn primary" onclick="saveSettings()">Save Settings</button>
</div><br>
    </main>

    <!-- SGPA DASHBOARD VIEW (hidden until SGPA calculation) -->
    <section id="sgpa-dashboard" class="card dashboard" style="display:none;">
      <div class="dashboard-head">
        <h2>ğŸ“‹ SGPA Dashboard</h2>
        <div class="dashboard-actions">
          <button class="btn" onclick="printDashboard('sgpa')">ğŸ–¨ Print SGPA Report</button>
          <button class="btn" onclick="editSGPA()">âœï¸ Edit Marks</button>
          <button class="btn" onclick="closeSGPADashboard()">Close</button>
        </div>
      </div>

      <div class="dash-top">
        <div class="sgpa-summary">
          <div class="label">SGPA</div>
          <div id="dashboard-sgpa-val" class="sgpa-big">-</div>
        </div>
        <div class="dash-stats">
          <p>Highest: <strong id="dash-highest">-</strong></p>
          <p>Lowest: <strong id="dash-lowest">-</strong></p>
          <p>Pass: <strong id="dash-pass">0</strong></p>
          <p>Fail: <strong id="dash-fail">0</strong></p>
        </div>
      </div>

      <div class="table-wrap">
        <table id="sgpa-table" class="dash-table">
          <thead>
            <tr>
              <th>Subject</th><th>Credit</th><th>Max</th><th>Scored</th><th>Internal</th><th>External</th><th>%</th><th>GP</th><th>GP Ã— Credit</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- CGPA DASHBOARD VIEW (hidden until CGPA calculation) -->
    <section id="cgpa-dashboard" class="card dashboard" style="display:none;">
      <div class="dashboard-head">
        <h2>ğŸ“‹ CGPA Dashboard</h2>
        <div class="dashboard-actions">
          <button class="btn" onclick="printDashboard('cgpa')">ğŸ–¨ Print CGPA Report</button>
          <button class="btn" onclick="editCGPA()">âœï¸ Edit Semesters</button>
          <button class="btn" onclick="closeCGPADashboard()">Close</button>
        </div>
      </div>

      <div class="dash-top">
        <div class="sgpa-summary">
          <div class="label">CGPA</div>
          <div id="dashboard-cgpa-val" class="sgpa-big">-</div>
        </div>
        <div class="dash-stats">
          <p>Semesters: <strong id="dash-sems">0</strong></p>
          <p>Total Credits: <strong id="cgpa-credits">0</strong></p>
        </div>
      </div>

      <div class="table-wrap">
        <table id="cgpa-table" class="dash-table">
          <thead>
            <tr>
              <th>Semester</th><th>SGPA</th><th>Credit</th><th>SGPA Ã— Credit</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <footer class="app-footer muted">Built with S2 creativeâ¤ï¸ â€” copy & reuse as needed</footer>
  </div>



  <script src="scripts.js"></script>
</body>
  </html>
